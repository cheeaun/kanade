// microAjax http://code.google.com/p/microajax/
// Copyright (c) 2008 Stefan Lange-Hegermann
function microAjax(a,b,c){this.bindFunction=function(a,b){return function(){return a.apply(b,[b])}},this.stateChange=function(){this.request.readyState==4&&this.callbackFunction(this.request.responseText)},this.getRequest=function(){if(window.ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new XMLHttpRequest;return!1},this.postBody=c||"",this.callbackFunction=b,this.url=a;if(this.request=this.getRequest())b=this.request,b.onreadystatechange=this.bindFunction(this.stateChange,this),this.postBody!==""?(b.open("POST",a,!0),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.setRequestHeader("Connection","close")):b.open("GET",a,!0),b.send(this.postBody)}